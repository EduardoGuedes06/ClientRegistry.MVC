@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Listagem de clientes dentro da Home</p>
</div>

<!-- Div onde a listagem será carregada -->
<div id="client-list"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function loadClients(search = '', page = 1) {
        $("#client-list").load(`/Client/Index?search=${search}&page=${page}`);
    }

    $(document).ready(function () {
        loadClients(); // Carrega a listagem ao abrir a página

        // Busca por clientes
        $(document).on("submit", "#search-form", function (e) {
            e.preventDefault();
            let search = $(this).find("input[name='search']").val();
            loadClients(search);
        });

        // Paginação
        $(document).on("click", ".page-link", function (e) {
            e.preventDefault();
            let page = $(this).data("page");
            loadClients('', page);
        });
    });
</script>
